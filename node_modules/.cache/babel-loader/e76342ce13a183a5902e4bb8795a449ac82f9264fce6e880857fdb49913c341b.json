{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/Development/Project-system/src/components/chat/VoiceCall.jsx\",\n  _s = $RefreshSig$();\nimport moment from \"moment\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VoiceCall = ({\n  onCall,\n  onCallSuccess\n}) => {\n  _s();\n  const [callState, setCallState] = useState(\"not-called\");\n  const callRecieveMoment = useRef();\n  const [timeofCall, setTimeOfCall] = useState(0);\n  useEffect(() => {\n    let interval, timeOut;\n    if (callState === \"calling\") {\n      onCall(callState);\n      timeOut = setTimeout(() => {\n        setCallState(\"on-call\");\n      }, 1000);\n    }\n    if (callState === \"on-call\") {\n      callRecieveMoment.current = moment(new Date());\n      onCallSuccess(moment(new Date()).subtract(callRecieveMoment.current).format(\"mm:ss \"));\n      interval = setInterval(() => {\n        setTimeOfCall(moment(new Date()).subtract(callRecieveMoment.current).format(\"mm:ss \"));\n      }, 1000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n      if (timeOut) clearTimeout(timeOut);\n    };\n  }, [callState]);\n  const renderCallButton = () => {\n    switch (callState) {\n      case \"not-called\":\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"51\",\n          height: \"51\",\n          viewBox: \"0 0 51 51\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"m15.804 43.619-8.42-8.42c-9.366-9.366-9.51-24.461-.432-34.003l.432-.443a4.5 4.5 0 0 1 3.63 1.639l6.95 8.448a3.464 3.464 0 0 1-.475 4.876l-4.783 3.66a1.732 1.732 0 0 0-.172 2.601l15.42 15.42a1.732 1.732 0 0 0 2.6-.172l3.567-4.664a3.464 3.464 0 0 1 4.856-.647l.117.094 9.528 7.966c.993.83 1.581 2.04 1.628 3.323v.322c-9.512 9.512-24.934 9.512-34.446 0z\",\n            fill: \"#FFF\",\n            \"fill-rule\": \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this);\n      case \"calling\":\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"64\",\n            height: \"30\",\n            viewBox: \"0 0 64 30\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"g\", {\n              fill: \"none\",\n              \"fill-rule\": \"evenodd\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M0 0h64v30H0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M26.357 2.5h11.908c13.245 0 24.02 10.572 24.349 23.738l.008.619a4.5 4.5 0 0 1-3.727 1.408l-10.888-1.06a3.464 3.464 0 0 1-3.112-3.784l.794-5.97a1.732 1.732 0 0 0-1.717-1.96H22.165a1.732 1.732 0 0 0-1.717 1.96l.776 5.82a3.464 3.464 0 0 1-2.976 3.891l-.15.017-12.37 1.104a4.548 4.548 0 0 1-3.5-1.198L2 26.857C2 13.405 12.905 2.5 26.357 2.5z\",\n                fill: \"#FFF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"d-flex align-items-center justify-content-center color-ffff\",\n            children: \".....\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n      case \"on-call\":\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"64\",\n            height: \"30\",\n            viewBox: \"0 0 64 30\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"g\", {\n              fill: \"none\",\n              \"fill-rule\": \"evenodd\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M0 0h64v30H0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M26.357 2.5h11.908c13.245 0 24.02 10.572 24.349 23.738l.008.619a4.5 4.5 0 0 1-3.727 1.408l-10.888-1.06a3.464 3.464 0 0 1-3.112-3.784l.794-5.97a1.732 1.732 0 0 0-1.717-1.96H22.165a1.732 1.732 0 0 0-1.717 1.96l.776 5.82a3.464 3.464 0 0 1-2.976 3.891l-.15.017-12.37 1.104a4.548 4.548 0 0 1-3.5-1.198L2 26.857C2 13.405 12.905 2.5 26.357 2.5z\",\n                fill: \"#FFF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"d-flex align-items-center f-4 justify-content-center color-ffff\",\n            children: timeofCall\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n    }\n  };\n  const renderButtonClass = () => {\n    switch (callState) {\n      case \"not-called\":\n        return \"bg-green\";\n      case \"calling\":\n        return \"bg-red\";\n      case \"on-call\":\n        return \"bg-red\";\n    }\n  };\n  const onCLick = () => {\n    if (callState === \"not-called\") {\n      setCallState(\"calling\");\n    }\n    if (callState === \"on-call\" || callState === \"calling\") {\n      setCallState(\"not-called\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: onCLick,\n    className: `call-btn ${renderButtonClass()} p-1 align-items-center justify-content-center`,\n    children: renderCallButton()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceCall, \"5jhARzs7Wx+ZgjteZNaqIazDKA4=\");\n_c = VoiceCall;\nexport default VoiceCall;\nvar _c;\n$RefreshReg$(_c, \"VoiceCall\");","map":{"version":3,"names":["moment","useEffect","useRef","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","VoiceCall","onCall","onCallSuccess","_s","callState","setCallState","callRecieveMoment","timeofCall","setTimeOfCall","interval","timeOut","setTimeout","current","Date","subtract","format","setInterval","clearInterval","clearTimeout","renderCallButton","width","height","viewBox","xmlns","children","d","fill","fileName","_jsxFileName","lineNumber","columnNumber","className","renderButtonClass","onCLick","onClick","_c","$RefreshReg$"],"sources":["/Users/apple/Documents/Development/Project-system/src/components/chat/VoiceCall.jsx"],"sourcesContent":["import moment from \"moment\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\nconst VoiceCall = ({ onCall, onCallSuccess }) => {\r\n  const [callState, setCallState] = useState(\"not-called\");\r\n  const callRecieveMoment = useRef();\r\n  const [timeofCall, setTimeOfCall] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let interval, timeOut;\r\n    if (callState === \"calling\") {\r\n      onCall(callState);\r\n      timeOut = setTimeout(() => {\r\n        setCallState(\"on-call\");\r\n      }, 1000);\r\n    }\r\n    if (callState === \"on-call\") {\r\n      callRecieveMoment.current = moment(new Date());\r\n      onCallSuccess(\r\n        moment(new Date()).subtract(callRecieveMoment.current).format(\"mm:ss \")\r\n      );\r\n\r\n      interval = setInterval(() => {\r\n        setTimeOfCall(\r\n          moment(new Date())\r\n            .subtract(callRecieveMoment.current)\r\n            .format(\"mm:ss \")\r\n        );\r\n      }, 1000);\r\n    }\r\n    return () => {\r\n      if (interval) clearInterval(interval);\r\n      if (timeOut) clearTimeout(timeOut);\r\n    };\r\n  }, [callState]);\r\n\r\n  const renderCallButton = () => {\r\n    switch (callState) {\r\n      case \"not-called\":\r\n        return (\r\n          <svg\r\n            width=\"51\"\r\n            height=\"51\"\r\n            viewBox=\"0 0 51 51\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              d=\"m15.804 43.619-8.42-8.42c-9.366-9.366-9.51-24.461-.432-34.003l.432-.443a4.5 4.5 0 0 1 3.63 1.639l6.95 8.448a3.464 3.464 0 0 1-.475 4.876l-4.783 3.66a1.732 1.732 0 0 0-.172 2.601l15.42 15.42a1.732 1.732 0 0 0 2.6-.172l3.567-4.664a3.464 3.464 0 0 1 4.856-.647l.117.094 9.528 7.966c.993.83 1.581 2.04 1.628 3.323v.322c-9.512 9.512-24.934 9.512-34.446 0z\"\r\n              fill=\"#FFF\"\r\n              fill-rule=\"evenodd\"\r\n            />\r\n          </svg>\r\n        );\r\n      case \"calling\":\r\n        return (\r\n          <>\r\n            <svg\r\n              width=\"64\"\r\n              height=\"30\"\r\n              viewBox=\"0 0 64 30\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <g fill=\"none\" fill-rule=\"evenodd\">\r\n                <path d=\"M0 0h64v30H0z\" />\r\n                <path\r\n                  d=\"M26.357 2.5h11.908c13.245 0 24.02 10.572 24.349 23.738l.008.619a4.5 4.5 0 0 1-3.727 1.408l-10.888-1.06a3.464 3.464 0 0 1-3.112-3.784l.794-5.97a1.732 1.732 0 0 0-1.717-1.96H22.165a1.732 1.732 0 0 0-1.717 1.96l.776 5.82a3.464 3.464 0 0 1-2.976 3.891l-.15.017-12.37 1.104a4.548 4.548 0 0 1-3.5-1.198L2 26.857C2 13.405 12.905 2.5 26.357 2.5z\"\r\n                  fill=\"#FFF\"\r\n                />\r\n              </g>\r\n            </svg>\r\n            <span className=\"d-flex align-items-center justify-content-center color-ffff\">\r\n              .....\r\n            </span>\r\n          </>\r\n        );\r\n      case \"on-call\":\r\n        return (\r\n          <>\r\n            <svg\r\n              width=\"64\"\r\n              height=\"30\"\r\n              viewBox=\"0 0 64 30\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <g fill=\"none\" fill-rule=\"evenodd\">\r\n                <path d=\"M0 0h64v30H0z\" />\r\n                <path\r\n                  d=\"M26.357 2.5h11.908c13.245 0 24.02 10.572 24.349 23.738l.008.619a4.5 4.5 0 0 1-3.727 1.408l-10.888-1.06a3.464 3.464 0 0 1-3.112-3.784l.794-5.97a1.732 1.732 0 0 0-1.717-1.96H22.165a1.732 1.732 0 0 0-1.717 1.96l.776 5.82a3.464 3.464 0 0 1-2.976 3.891l-.15.017-12.37 1.104a4.548 4.548 0 0 1-3.5-1.198L2 26.857C2 13.405 12.905 2.5 26.357 2.5z\"\r\n                  fill=\"#FFF\"\r\n                />\r\n              </g>\r\n            </svg>\r\n            <span className=\"d-flex align-items-center f-4 justify-content-center color-ffff\">\r\n              {timeofCall}\r\n            </span>\r\n          </>\r\n        );\r\n    }\r\n  };\r\n  const renderButtonClass = () => {\r\n    switch (callState) {\r\n      case \"not-called\":\r\n        return \"bg-green\";\r\n      case \"calling\":\r\n        return \"bg-red\";\r\n      case \"on-call\":\r\n        return \"bg-red\";\r\n    }\r\n  };\r\n\r\n  const onCLick = () => {\r\n    if (callState === \"not-called\") {\r\n      setCallState(\"calling\");\r\n    }\r\n    if (callState === \"on-call\" || callState === \"calling\") {\r\n      setCallState(\"not-called\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={onCLick}\r\n      className={`call-btn ${renderButtonClass()} p-1 align-items-center justify-content-center`}\r\n    >\r\n      {renderCallButton()}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default VoiceCall;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}